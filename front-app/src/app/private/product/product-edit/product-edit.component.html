<!-- component -->
<div class="flex h-screen items-center justify-center  mt-8 mb-8">
    <div class="grid bg-white rounded-lg shadow-xl w-11/12 md:w-9/12 lg:w-1/2">
      <div class="flex justify-center py-4">
        <div class="flex bg-purple-200 rounded-full md:p-4 p-2 border-2 border-purple-300">
          <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path></svg>
        </div>
      </div>
      <div class="flex justify-center">
        <div class="flex">
          <h1 class="text-gray-600 font-bold md:text-2xl text-xl">Update Products </h1>
        </div>
      </div>
      <div class="grid grid-cols-1 mt-5 mx-7">
        <label 
        [className]="'uppercase md:text-sm text-xs text-gray-500 text-light font-semibold'"
        [ngClass]="{'text-red-400' : 
        (validationProductService.obsNameOfProduct | async) === false ||
        (validationProductService.obsNameLengthOfProduct | async) === false
        }">Name</label>
        <input 
        (input)="validationProductService.inputNameOfProduct($event.target.value);
                 validationProductService.inputNameLengthOfProduct($event.target.value);
                 subgetname.next($event.target.value);" 
        value="{{nameproduct}}"
        [className]="'w-full px-3 py-2 mb-1 border-2 border-gray-200 rounded-md focus:outline-none'"                                 
        [ngClass]="
        {
          'border border-transparent border-red-400 focus:outline-none focus:ring-2 focus:ring-red-400 focus:border-transparent' : 
          (validationProductService.obsNameOfProduct | async) === false ||
          (validationProductService.obsNameLengthOfProduct | async) === false
        }"        
        type="text" placeholder="Name"/>         
        <div class="mt-1">
          <span *ngIf="
          (validationProductService.obsNameOfProduct | async) === false; else elseCondition" class="text-red-400" >Name of product is required
         </span>
         <ng-template #elseCondition>
          <span *ngIf="
            (validationProductService.obsNameLengthOfProduct | async) === false" class="text-red-400" >Name of product should be less or equal than 10
          </span> 
         </ng-template>    
        </div> 
      </div>
      <div class="grid grid-cols-1 mt-5 mx-7">
        <label 
        [className]="'uppercase md:text-sm text-xs text-gray-500 text-light font-semibold'"
        [ngClass]="{'text-red-400' : 
        (validationProductService.obsDescriptionOfProduct | async) === false ||
        (validationProductService.obsDescriptionLengthOfProduct | async) === false
        }">Description</label>
        <input 
        (input)="
        validationProductService.inputDescriptionOfProduct($event.target.value);
        validationProductService.inputDescriptionLengthOfProduct($event.target.value);  
        subgetdescription.next($event.target.value);" 
        value="{{descproduct}}"
        [className]="'w-full px-3 py-2 mb-1 border-2 border-gray-200 rounded-md focus:outline-none'"                                 
        [ngClass]="
        {
          'border border-transparent border-red-400 focus:outline-none focus:ring-2 focus:ring-red-400 focus:border-transparent' : 
          (validationProductService.obsDescriptionOfProduct | async) === false ||
          (validationProductService.obsDescriptionLengthOfProduct | async) === false
        }"
        type="text" 
        placeholder="Description" 
        />
        <div class="mt-1">
           <span *ngIf="(validationProductService.obsDescriptionOfProduct | async) === false; else elseDescription" class="text-red-400" >Description of product is required</span>        
        </div>
        <ng-template #elseDescription>
          <div class="mt-1">
            <span *ngIf="(validationProductService.obsDescriptionLengthOfProduct | async) === false;" class="text-red-400" >Description of product should be less or equal than 116</span>
          </div>
        </ng-template>        
      </div>
      <div class="grid grid-cols-1 mt-5 mx-7">
        <label   
        [className]="'uppercase md:text-sm text-xs text-gray-500 text-light font-semibold'"
        [ngClass]="{'text-red-400' :
         (validationProductService.obsPriceOfProduct | async) === false  ||
         (validationProductService.obsOnlyNumberPriceOfProduct | async) === false         
        }"        
        >Price</label>
        <input 
        (input)="
        validationProductService.inputPriceOfProduct( $event.target.value);
        validationProductService.inputPriceOnlyNumberOfProduct( $event.target.value);
        subgetprice.next($event.target.value);" 
        value="{{priceproduct}}"
        [className]="'w-full px-3 py-2 mb-1 border-2 border-gray-200 rounded-md focus:outline-none'"                                 
        [ngClass]="
        {
          'border border-transparent border-red-400 focus:outline-none focus:ring-2 focus:ring-red-400 focus:border-transparent' : 
          (validationProductService.obsPriceOfProduct | async) === false || 
          (validationProductService.obsOnlyNumberPriceOfProduct | async) === false 
        }"
        type="text"
        placeholder="Price" />
        <div class="mt-1">
          <span *ngIf="(validationProductService.obsPriceOfProduct | async) === false; else elsePriceConditions" class="text-red-400" >Price of product is required</span>
        </div>
        <ng-template #elsePriceConditions>
          <div class="mt-1">
            <span *ngIf="(validationProductService.obsOnlyNumberPriceOfProduct | async) === false;" class="text-red-400" >Price of product is only number</span>
          </div>
        </ng-template>
      </div>
      <div class="grid grid-cols-1 mt-5 mx-7">
        <label
        [className]="'uppercase md:text-sm text-xs text-gray-500 text-light font-semibold'"
        [ngClass]="{'text-red-400' : 
        (validationProductService.obsCostOfProduct | async) === false ||
        (validationProductService.obsOnlyNUmberCostOfProduct | async) === false 
        }"> Cost</label>
        <input 
        (input)="
         validationProductService.inputCostOfProduct($event.target.value);
         validationProductService.inputCostOnlyNumberOfProduct($event.target.value);        
         subgetcost.next($event.target.value);" 
         value="{{costproduct}}"
         [className]="'w-full px-3 py-2 mb-1 border-2 border-gray-200 rounded-md focus:outline-none'"                                 
         [ngClass]="
         {
          'border border-transparent border-red-400 focus:outline-none focus:ring-2 focus:ring-red-400 focus:border-transparent' : 
          (validationProductService.obsCostOfProduct | async) === false ||
          (validationProductService.obsOnlyNUmberCostOfProduct | async) === false 
         }"
         type="text" 
         placeholder="Cost" />          
         <div class="mt-1">
          <span *ngIf="(validationProductService.obsCostOfProduct | async) === false; else elseConditionsCost" class="text-red-400" >Cost of product is required</span>
        </div>
        <ng-template #elseConditionsCost>
          <div class="mt-1">
            <span *ngIf="(validationProductService.obsOnlyNUmberCostOfProduct | async) === false;" class="text-red-400" >Cost of product is only number</span>
          </div>
        </ng-template>
      </div>
      <div class="grid grid-cols-1 mt-5 mx-7">
        <label class="uppercase md:text-sm text-xs text-gray-500 text-light font-semibold mb-1">Upload Photo Product</label>         
          <div class='flex w-full' *ngIf="filePath === '' else setImage; ">
            <label class='hover:bg-gray-100'>
                <div class='flex flex-col items-center justify-center pt-7'>                   
                  <img src="{{pictureproduct}}" alt="No image avaible"  width="300px" height="300px">                  
                  <p class='lowercase text-sm text-gray-400 group-hover:text-purple-600 pt-1 tracking-wider'>Select a photo product</p>
                </div>              
                <input type='file' class="hidden" value="" accept="image/*" 
                (change)="imagePreview($event);validationProductService.inputImageOfProduct($event.target.files[0].name);" />
            </label>
        </div>
        <ng-template #setImage>
          <div  *ngIf="filePath && filePath !== ''">
            <label class=''>
              <img [src]="filePath" [alt]="">                               
               <input type='file' class="hidden" value=""  accept="image/*" 
                  (change)="imagePreview($event);validationProductService.inputImageOfProduct($event.target.files[0].name);"/>
            </label>
        </div>
        </ng-template>
        <div class="mt-1">
          <span  *ngIf="(validationProductService.obsImageOfProduct | async) === false;"  class="text-red-400" >Image of product is required</span>
        </div>
      </div>
      <div class='flex items-center justify-center  md:gap-8 gap-4 pt-5 pb-5'>
        <button class='w-auto bg-gray-500 hover:bg-gray-700 rounded-lg shadow-xl font-medium text-white px-4 py-2' routerLink="/user/menu/product" >Cancel</button>
        <button class='w-auto bg-purple-500 hover:bg-purple-700 rounded-lg shadow-xl font-medium text-white px-4 py-2' (click)="saveProduct()">Update</button>
      </div>
    </div>
  </div>